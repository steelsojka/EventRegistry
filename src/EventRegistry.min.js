var EventEmitter=function(d){var e=d.extend();e.register=function(a){var c=this,b={on:function(a,b,d,e){c.on.call(c,a,b,d||this,e)},emit:function(){c.emit.apply(c,arguments)},once:function(a,b,d){c.once.call(c,a,b,d)},off:function(a,b,d){c.off.call(c,a,b,d||this)}};b.bind=b.addListener=b.on;b.unbind=b.removeListener=b.off;if("[object Array]"===Object.prototype.toString.apply(a))for(var d=a.length-1;0<=d;d--)f(a[d],b);else f(a,b)};d.prototype=e;var f=function(a,c){"function"===typeof a?a.prototype=
g(a.prototype,c):"object"===typeof a&&g(a,c)},g=function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};return d}(EventEmitter);